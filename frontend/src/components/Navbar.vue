<template>
  <nav class="navbar">
    <div class="navbar-brand">ğŸ“š Quáº£n lÃ½ thÆ° viá»‡n</div>

    <ul class="navbar-links">
      <li><router-link to="/" exact-active-class="active">Trang chá»§</router-link></li>
      <li><router-link to="/sach" exact-active-class="active">SÃ¡ch</router-link></li>
      <li><router-link to="/muontra" exact-active-class="active">MÆ°á»£n/Tráº£</router-link></li>
      <li><router-link to="/docgia" exact-active-class="active">Äá»™c giáº£</router-link></li>
      <li><router-link to="/nhaxuatban" exact-active-class="active">NhÃ  xuáº¥t báº£n</router-link></li>

      <!-- Dropmenu Quáº£n lÃ½ -->
    </ul>
    <div class="dropdown">
      <button class="dropdown-btn">ğŸ‘¤ TÃ i khoáº£n</button>
      <div class="dropdown-content">
        <router-link to="/me">ThÃ´ng tin cÃ¡ nhÃ¢n</router-link>
        <button @click="logout">ÄÄƒng xuáº¥t</button>
      </div>
    </div>
    <div v-if="isManager" class="dropdown">
      <button class="dropdown-btn">âš™ï¸ Quáº£n lÃ½</button>
        <div class="dropdown-content">
          <router-link to="/adminnhanvien">Quáº£n lÃ½ nhÃ¢n viÃªn</router-link>
          <router-link to="/dashboard">Xem thá»‘ng kÃª</router-link>
        </div>
    </div>
  </nav>
</template>

<script>
export default {
  name: "Navbar",
  data() {
    return { isManager: false };
  },
  mounted() {
    const savedUser = localStorage.getItem("currentUser");
    if (savedUser) {
      const user = JSON.parse(savedUser);
      if (user.chucVu === "Quáº£n LÃ½") this.isManager = true;
    }
  },
  methods: {
    logout() {
      localStorage.removeItem("token");
      localStorage.removeItem("currentUser");
      this.$router.push("/login");
    },
  },
};
</script>
